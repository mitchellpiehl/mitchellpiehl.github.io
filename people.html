<!DOCTYPE html>
<html lang="en">
    <head>
        <title>AI History - People</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="normalize.css" />
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div id="header">
            <div class="hcol1">
                <img src="images/StThomasLogo.png" class="img"/>
            </div>
            <div class="hcol2"><h1>The History of Artificial Intelligence</h1></div>
        </div>
        <div id="header2">
            <div>
                <nav id="main-nav">
                    <ul id="nav">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="timeline.html">Timeline</a>
                            <ul>
                                <li><a href="timeline.html">Post-1900</a></li>
                                <li><a href="timeline2.html">Pre-1900</a></li>
                            </ul>
                        </li>
                        <li><a href="people.html" class="current">People</a></li>
                        <li><a href="papers.html">Papers</a></li>
                        <li><a href="readings.html">Further Readings</a></li>
                        <li><a href="onlineResources.html">Online Resources</a></li>
                        <li><a href="fundamentals.html">Glossary</a></li>
                    </ul>
                </nav>
                <button id="mobile-menu-toggle" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    <h2 class="center">Foundational People Throughout the History of AI</h2>
    <h3 id="center">Click on any person to see more information!</h3>
    <div id="spinner" class="spinner" style="display: none;"></div>
    <select id="categoryFilter">
        <option value="all">All People</option>
        <option value="aiEngineers">AI Engineers</option>
        <option value="philosophers">Philosophers</option>
        <option value="mathematicians">Mathematicians</option>
    </select>
    <div class="main-content">
        <div class="people-list">
            
        </div>
        <div class="person-details">
            
        </div>
    </div>
    <script src="fetch.js"></script>
    <script>
        let selectedCategory = "all";

        async function initializePage() {
            await fetchAllData();
            renderContent();
        }
        document.getElementById("categoryFilter").addEventListener("change", function () {
            selectedCategory = this.value;
            renderContent();
        });
    
        function renderContent() {
            const listContainer = document.querySelector(".people-list");
            const detailContainer = document.querySelector(".person-details");
            listContainer.innerHTML = "";
            detailContainer.innerHTML = "";

            let filteredPeople = people.filter(person => {
                if (selectedCategory === 'aiEngineers') return person.aiEngineer;
                if (selectedCategory === 'philosophers') return person.philosopher;
                if (selectedCategory === 'mathematicians') return person.mathematician;
                return true;
            });
    
            // Sort by birth year
            const sortedPeople = [...filteredPeople].sort((a, b) => parseInt(a.birth) - parseInt(b.birth));
    
            // Helper to render detailed view
            function renderPersonDetail(person) {
                detailContainer.innerHTML = `
                    <h2>${person.name}</h2>
                    <h3>${person.birth} - ${person.death}</h3>
                    <img src="images/${person.image}" alt="${person.name}" style="width: 100%; max-width: 250px; height: auto; margin-bottom: 1em;" />
                    <p>${person.long}</p>
                    <p><strong>Image Source:</strong> <a href="${person.imageSource}" target="_blank">${person.sourceName}</a></p>
                `;
            }
    
            // Create list items
            sortedPeople.forEach((person, index) => {
                const personDiv = document.createElement("div");
                personDiv.className = "person";
    
                const gridDiv = document.createElement("div");
                gridDiv.className = "grid";
    
                const p1 = document.createElement("div");
                p1.className = "p1";
    
                const containerDiv = document.createElement("div");
                containerDiv.className = "container";
    
                const img = document.createElement("img");
                img.className = "image";
                img.src = `images/${person.image}`;
                img.alt = person.name;
    
                const overlay = document.createElement("div");
                overlay.className = "overlay";
    
                const sourcePara = document.createElement("p");
                sourcePara.className = "white";
                sourcePara.innerHTML = `Image Source: <a href="${person.imageSource}" target="_blank">${person.sourceName}</a>`;
    
                overlay.appendChild(sourcePara);
                containerDiv.appendChild(img);
                containerDiv.appendChild(overlay);
                p1.appendChild(containerDiv);
    
                const p2 = document.createElement("div");
                p2.className = "p2";
    
                const nameEl = document.createElement("h2");
                nameEl.textContent = person.name;
    
                const yearsEl = document.createElement("h3");
                yearsEl.textContent = `${person.birth}-${person.death}`;
    
                const desc = document.createElement("p");
                desc.textContent = person.short;
    
                p2.appendChild(nameEl);
                p2.appendChild(yearsEl);
                p2.appendChild(desc);
    
                gridDiv.appendChild(p1);
                gridDiv.appendChild(p2);
    
                const ul = document.createElement("ul");
                const li = document.createElement("li");
                const link = document.createElement("a");
                link.className = "link-button";
                link.href = "#";
                link.textContent = "View Person";
    
                link.addEventListener("click", e => {
                    e.preventDefault();
                    renderPersonDetail(person);
                });
    
                li.appendChild(link);
                ul.appendChild(li);
    
                personDiv.appendChild(gridDiv);
                personDiv.appendChild(ul);
    
                listContainer.appendChild(personDiv);
    
                // Automatically show first person
                if (index === 0) {
                    renderPersonDetail(person);
                }
            });
        }
    
        initializePage();
    </script>
</body>
</html>
